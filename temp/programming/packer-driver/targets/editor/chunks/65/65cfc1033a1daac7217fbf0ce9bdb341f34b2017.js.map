{"version":3,"sources":["file:///Users/hanchuang/Games/RotateBlock/assets/src/Grid.ts"],"names":["_decorator","Component","resources","Sprite","SpriteFrame","UIOpacity","ColorEnum","GameController","Block","ccclass","property","Grid","color","filled","start","update","deltaTime","test","hide","node","getComponent","opacity","show","Instance","currentBlock","load","COLOR_RES","err","asset","getChildByName","spriteFrame","Filled"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAASA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,S,OAAAA,S;AAAiBC,MAAAA,S,OAAAA,S;AAAWC,MAAAA,M,OAAAA,M;AAAQC,MAAAA,W,OAAAA,W;AAAaC,MAAAA,S,OAAAA,S;;AAC7DC,MAAAA,S,iBAAAA,S;;AACAC,MAAAA,c,iBAAAA,c;;AACAC,MAAAA,K,iBAAAA,K;;;;;;;;;OACH;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBV,U;;sBAGjBW,I,WADZF,OAAO,CAAC,MAAD,C,gBAAR,MACaE,IADb,SAC0BV,SAD1B,CACoC;AAAA;AAAA;AAAA,eAEhCW,KAFgC;AAAA,eAGxBC,MAHwB,GAGf,KAHe;AAAA;;AAKhCC,QAAAA,KAAK,GAAG,CACP;;AAEDC,QAAAA,MAAM,CAACC,SAAD,EAAoB,CAEzB;;AAEMC,QAAAA,IAAI,GAAG;AACV,iBAAO,KAAKJ,MAAZ;AACH;;AAEMK,QAAAA,IAAI,GAAG;AACV,eAAKC,IAAL,CAAUC,YAAV,CAAuBf,SAAvB,EAAkCgB,OAAlC,GAA4C,CAA5C;AACA,eAAKR,MAAL,GAAc,KAAd;AACA,eAAKD,KAAL,GAAa,CAAC,CAAd;AACH;;AAEMU,QAAAA,IAAI,GAAG;AACV;AACA,eAAKT,MAAL,GAAc,IAAd;AAEA,cAAID,KAAK,GAAG;AAAA;AAAA,gDAAeW,QAAf,CAAwBC,YAAxB,CAAqCJ,YAArC;AAAA;AAAA,8BAAyDR,KAArE;AAEA,eAAKA,KAAL,GAAaA,KAAb;AACAV,UAAAA,SAAS,CAACuB,IAAV,CAAe,aAAa;AAAA;AAAA,sCAAUC,SAAV,CAAoBd,KAApB,CAAb,GAA0C,cAAzD,EAAyER,WAAzE,EAAsF,CAACuB,GAAD,EAAMC,KAAN,KAAgB;AAElG,iBAAKT,IAAL,CAAUU,cAAV,CAAyB,MAAzB,EAAiCT,YAAjC,CAA8CjB,MAA9C,EAAsD2B,WAAtD,GAAoEF,KAApE;AACH,WAHD;AAIA,eAAKT,IAAL,CAAUC,YAAV,CAAuBf,SAAvB,EAAkCgB,OAAlC,GAA4C,GAA5C;AAEH;;AAEgB,YAANU,MAAM,GAAG;AAChB,iBAAO,KAAKlB,MAAZ;AACH;;AAvC+B,O","sourcesContent":["import { _decorator, Component, Node, resources, Sprite, SpriteFrame, UIOpacity } from 'cc';\nimport { ColorEnum } from './ColorEnum';\nimport { GameController } from './GameController';\nimport { Block } from './Block';\nconst { ccclass, property } = _decorator;\n\n@ccclass('Grid')\nexport class Grid extends Component {\n\n    color;\n    private filled = false;\n\n    start() {\n    }\n\n    update(deltaTime: number) {\n\n    }\n\n    public test() {\n        return this.filled;\n    }\n\n    public hide() {\n        this.node.getComponent(UIOpacity).opacity = 0;\n        this.filled = false;\n        this.color = -1;\n    }\n\n    public show() {\n        // this.node.getChildByName(\"Grid\").getComponent(Sprite)\n        this.filled = true;\n\n        let color = GameController.Instance.currentBlock.getComponent(Block).color;\n\n        this.color = color;\n        resources.load('texture/' + ColorEnum.COLOR_RES[color] + \"/spriteFrame\", SpriteFrame, (err, asset) => {\n\n            this.node.getChildByName(\"Grid\").getComponent(Sprite).spriteFrame = asset;\n        });\n        this.node.getComponent(UIOpacity).opacity = 255;\n\n    }\n\n    public get Filled() {\n        return this.filled;\n    }\n}\n\n"]}