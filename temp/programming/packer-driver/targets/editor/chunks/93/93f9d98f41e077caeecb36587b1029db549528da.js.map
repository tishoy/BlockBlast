{"version":3,"sources":["file:///Users/hanchuang/Games/RotateBlock/assets/src/GameArea.ts"],"names":["_decorator","Component","instantiate","NodeEventType","Prefab","UIOpacity","Vec3","Grid","ccclass","property","GameArea","type","grids","start","createBlock","i","node","GridPrefab","x","y","Math","floor","setPosition","getChildByName","addChild","push","getComponent","hide","on","TOUCH_MOVE","event","target","opacity","TOUCH_CANCEL","console","log","TOUCH_END"],"mappings":";;;;;;;;;;;;;;;;;;;;;;AAASA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,S,OAAAA,S;AAAWC,MAAAA,W,OAAAA,W;AAAaC,MAAAA,a,OAAAA,a;AAAeC,MAAAA,M,OAAAA,M;AAAQC,MAAAA,S,OAAAA,S;AAAWC,MAAAA,I,OAAAA,I;;AACtEC,MAAAA,I,iBAAAA,I;;;;;;;;;OACH;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBT,U;;0BAGjBU,Q,WADZF,OAAO,CAAC,UAAD,C,UAQHC,QAAQ,CAAC;AACNE,QAAAA,IAAI,EAAEP;AADA,OAAD,C,2BARb,MACaM,QADb,SAC8BT,SAD9B,CACwC;AAAA;AAAA;;AAAA;;AAAA,eAYpCW,KAZoC,GAY5B,EAZ4B;AAAA;;AACpCC,QAAAA,KAAK,GAAG;AACJ,eAAKC,WAAL;AAGH;;AASMA,QAAAA,WAAW,GAAG;AACjB,eAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,EAApB,EAAwBA,CAAC,EAAzB,EAA6B;AACzB,gBAAIC,IAAI,GAAGd,WAAW,CAAC,KAAKe,UAAN,CAAtB;AACA,gBAAIC,CAAC,GAAIH,CAAC,GAAG,CAAL,GAAU,EAAV,GAAe,GAAf,GAAqB,EAA7B;AACA,gBAAII,CAAC,GAAGC,IAAI,CAACC,KAAL,CAAWN,CAAC,GAAG,CAAf,IAAoB,EAApB,GAAyB,GAAzB,GAA+B,EAAvC;AACAC,YAAAA,IAAI,CAACM,WAAL,CAAiB,IAAIhB,IAAJ,CAASY,CAAT,EAAYC,CAAZ,EAAe,CAAf,CAAjB;AACA,iBAAKH,IAAL,CAAUO,cAAV,CAAyB,WAAzB,EAAsCC,QAAtC,CAA+CR,IAA/C;AACA,iBAAKJ,KAAL,CAAWa,IAAX,CAAgB,KAAKT,IAArB;AACAA,YAAAA,IAAI,CAACU,YAAL;AAAA;AAAA,8BAAwBC,IAAxB;AAEAX,YAAAA,IAAI,CAACY,EAAL,CAAQzB,aAAa,CAAC0B,UAAtB,EAAmCC,KAAD,IAAW;AACzC;AACAA,cAAAA,KAAK,CAACC,MAAN,CAAaL,YAAb,CAA0BrB,SAA1B,EAAqC2B,OAArC,GAA+C,GAA/C;AAGH,aALD;AAOAhB,YAAAA,IAAI,CAACY,EAAL,CAAQzB,aAAa,CAAC8B,YAAtB,EAAqCH,KAAD,IAAW;AAC3CI,cAAAA,OAAO,CAACC,GAAR,CAAYL,KAAK,CAACC,MAAlB;AACAD,cAAAA,KAAK,CAACC,MAAN,CAAaL,YAAb,CAA0BrB,SAA1B,EAAqC2B,OAArC,GAA+C,GAA/C;AAGH,aALD;AAOAhB,YAAAA,IAAI,CAACY,EAAL,CAAQzB,aAAa,CAACiC,SAAtB,EAAkCN,KAAD,IAAW;AACxCI,cAAAA,OAAO,CAACC,GAAR,CAAYL,KAAK,CAACC,MAAlB;AACAD,cAAAA,KAAK,CAACC,MAAN,CAAaL,YAAb,CAA0BrB,SAA1B,EAAqC2B,OAArC,GAA+C,GAA/C;AAGH,aALD;AAMH;AACJ;;AA7CmC,O","sourcesContent":["import { _decorator, Component, instantiate, NodeEventType, Prefab, UIOpacity, Vec3 } from \"cc\";\nimport { Grid } from \"./Grid\";\nconst { ccclass, property } = _decorator;\n\n@ccclass('GameArea')\nexport class GameArea extends Component {\n    start() {\n        this.createBlock();\n\n\n    }\n\n    @property({\n        type: Prefab,\n    })\n    GridPrefab: Prefab;\n\n    grids = [];\n\n    public createBlock() {\n        for (let i = 0; i < 64; i++) {\n            let node = instantiate(this.GridPrefab);\n            let x = (i % 8) * 80 - 320 + 40;\n            let y = Math.floor(i / 8) * 80 - 320 + 40;\n            node.setPosition(new Vec3(x, y, 0));\n            this.node.getChildByName(\"Container\").addChild(node);\n            this.grids.push(this.node);\n            node.getComponent(Grid).hide();\n\n            node.on(NodeEventType.TOUCH_MOVE, (event) => {\n                // console.log(event.target);\n                event.target.getComponent(UIOpacity).opacity = 255;\n\n\n            })\n\n            node.on(NodeEventType.TOUCH_CANCEL, (event) => {\n                console.log(event.target);\n                event.target.getComponent(UIOpacity).opacity = 255;\n\n\n            })\n\n            node.on(NodeEventType.TOUCH_END, (event) => {\n                console.log(event.target);\n                event.target.getComponent(UIOpacity).opacity = 255;\n\n\n            })\n        }\n    }\n}\n\n\n"]}