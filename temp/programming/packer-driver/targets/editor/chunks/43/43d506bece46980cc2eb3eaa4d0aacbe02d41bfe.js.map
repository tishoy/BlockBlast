{"version":3,"sources":["file:///Users/hanchuang/Games/RotateBlock/assets/src/Block.ts"],"names":["_decorator","Component","NodeEventType","Prefab","Vec3","BlockEnum","ccclass","property","Block","type","rotation","start","node","on","TOUCH_START","touchStart","data","getRotation","i","length","event","off","TOUCH_CANCEL","TOUCH_MOVE","TOUCH_END","touchMove","console","log","setPosition","touchEnd","touchCancel","update","deltaTime"],"mappings":";;;;;;;;;;;;;;;;;;;;;;AAASA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,S,OAAAA,S;AAAiBC,MAAAA,a,OAAAA,a;AAAeC,MAAAA,M,OAAAA,M;AAAQC,MAAAA,I,OAAAA,I;;AACpDC,MAAAA,S,iBAAAA,S;;;;;;;;;OACH;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBP,U;;uBAGjBQ,K,WADZF,OAAO,CAAC,OAAD,C,UAOHC,QAAQ,CAAC;AACNE,QAAAA,IAAI,EAAEN;AADA,OAAD,C,2BAPb,MACaK,KADb,SAC2BP,SAD3B,CACqC;AAAA;AAAA;AAAA,eAGjCQ,IAHiC,GAG1B,CAH0B;AAAA,eAIjCC,QAJiC,GAItB,CAJsB;;AAAA;AAAA;;AAYjCC,QAAAA,KAAK,GAAG;AACJ,eAAKC,IAAL,CAAUC,EAAV,CAAaX,aAAa,CAACY,WAA3B,EAAwC,KAAKC,UAA7C,EAAyD,IAAzD;AAEA,cAAIC,IAAI,GAAG;AAAA;AAAA,sCAAUC,WAAV,CAAsB,KAAKR,IAA3B,EAAiC,KAAKC,QAAtC,CAAX;;AAEA,eAAK,IAAIQ,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGF,IAAI,CAACG,MAAzB,EAAiCD,CAAC,EAAlC,EAAsC,CAErC;AAEJ;;AAEMH,QAAAA,UAAU,CAACK,KAAD,EAAQ;AACrB,eAAKR,IAAL,CAAUS,GAAV,CAAcnB,aAAa,CAACY,WAA5B,EAAyC,KAAKC,UAA9C,EAA0D,IAA1D;AACA,eAAKH,IAAL,CAAUC,EAAV,CAAaX,aAAa,CAACoB,YAA3B,EAAyC,KAAKP,UAA9C,EAA0D,IAA1D;AACA,eAAKH,IAAL,CAAUC,EAAV,CAAaX,aAAa,CAACqB,UAA3B,EAAuC,KAAKR,UAA5C,EAAwD,IAAxD;AACA,eAAKH,IAAL,CAAUC,EAAV,CAAaX,aAAa,CAACsB,SAA3B,EAAsC,KAAKT,UAA3C,EAAuD,IAAvD;AACH;;AAEMU,QAAAA,SAAS,CAACL,KAAD,EAAQ;AACpBM,UAAAA,OAAO,CAACC,GAAR,CAAYP,KAAZ;AACA,eAAKR,IAAL,CAAUgB,WAAV,CAAsB,IAAIxB,IAAJ,EAAtB;AAEH;;AAEMyB,QAAAA,QAAQ,CAACT,KAAD,EAAQ;AACnB,eAAKR,IAAL,CAAUC,EAAV,CAAaX,aAAa,CAACY,WAA3B,EAAwC,KAAKC,UAA7C,EAAyD,IAAzD;AACA,eAAKH,IAAL,CAAUS,GAAV,CAAcnB,aAAa,CAACoB,YAA5B,EAA0C,KAAKP,UAA/C,EAA2D,IAA3D;AACA,eAAKH,IAAL,CAAUS,GAAV,CAAcnB,aAAa,CAACqB,UAA5B,EAAwC,KAAKR,UAA7C,EAAyD,IAAzD;AACA,eAAKH,IAAL,CAAUS,GAAV,CAAcnB,aAAa,CAACsB,SAA5B,EAAuC,KAAKT,UAA5C,EAAwD,IAAxD;AACH;;AAEMe,QAAAA,WAAW,CAACV,KAAD,EAAQ;AACtB,eAAKR,IAAL,CAAUC,EAAV,CAAaX,aAAa,CAACY,WAA3B,EAAwC,KAAKC,UAA7C,EAAyD,IAAzD;AACA,eAAKH,IAAL,CAAUS,GAAV,CAAcnB,aAAa,CAACoB,YAA5B,EAA0C,KAAKP,UAA/C,EAA2D,IAA3D;AACA,eAAKH,IAAL,CAAUS,GAAV,CAAcnB,aAAa,CAACqB,UAA5B,EAAwC,KAAKR,UAA7C,EAAyD,IAAzD;AACA,eAAKH,IAAL,CAAUS,GAAV,CAAcnB,aAAa,CAACsB,SAA5B,EAAuC,KAAKT,UAA5C,EAAwD,IAAxD;AACH;;AAEDgB,QAAAA,MAAM,CAACC,SAAD,EAAoB,CAEzB;;AApDgC,O","sourcesContent":["import { _decorator, Component, Node, NodeEventType, Prefab, Vec3 } from 'cc';\nimport { BlockEnum } from './BlockEnum';\nconst { ccclass, property } = _decorator;\n\n@ccclass('Block')\nexport class Block extends Component {\n\n\n    type = 1;\n    rotation = 0;\n\n    @property({\n        type: Prefab,\n    })\n    GridPrefab: Prefab;\n\n\n    start() {\n        this.node.on(NodeEventType.TOUCH_START, this.touchStart, this);\n\n        let data = BlockEnum.getRotation(this.type, this.rotation);\n\n        for (let i = 0; i < data.length; i++) {\n\n        }\n\n    }\n\n    public touchStart(event) {\n        this.node.off(NodeEventType.TOUCH_START, this.touchStart, this);\n        this.node.on(NodeEventType.TOUCH_CANCEL, this.touchStart, this);\n        this.node.on(NodeEventType.TOUCH_MOVE, this.touchStart, this);\n        this.node.on(NodeEventType.TOUCH_END, this.touchStart, this);\n    }\n\n    public touchMove(event) {\n        console.log(event);\n        this.node.setPosition(new Vec3())\n\n    }\n\n    public touchEnd(event) {\n        this.node.on(NodeEventType.TOUCH_START, this.touchStart, this);\n        this.node.off(NodeEventType.TOUCH_CANCEL, this.touchStart, this);\n        this.node.off(NodeEventType.TOUCH_MOVE, this.touchStart, this);\n        this.node.off(NodeEventType.TOUCH_END, this.touchStart, this);\n    }\n\n    public touchCancel(event) {\n        this.node.on(NodeEventType.TOUCH_START, this.touchStart, this);\n        this.node.off(NodeEventType.TOUCH_CANCEL, this.touchStart, this);\n        this.node.off(NodeEventType.TOUCH_MOVE, this.touchStart, this);\n        this.node.off(NodeEventType.TOUCH_END, this.touchStart, this);\n    }\n\n    update(deltaTime: number) {\n\n    }\n}\n\n"]}